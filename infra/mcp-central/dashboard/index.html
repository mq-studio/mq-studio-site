<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IDP MCP Central Dashboard</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        .header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .status {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        .card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
        }
        .online { background: #27ae60; }
        .offline { background: #e74c3c; }
        .warning { background: #f39c12; }
        .governance-level {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
        }
        .level-low { background: #d5f4e6; color: #27ae60; }
        .level-medium { background: #fef9e7; color: #f39c12; }
        .level-high { background: #fdedec; color: #e74c3c; }
        .logs {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            overflow-x: auto;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ³ IDP MCP Central Dashboard</h1>
        <p>Centralized Model Context Protocol Server Management</p>
        <p><strong>Version:</strong> 1.0 | <strong>Mode:</strong> Docker Centralized | <strong>Status:</strong> <span id="overall-status">Active</span></p>
    </div>

    <div class="status">
        <div class="card">
            <h3>ğŸ“Š System Overview</h3>
            <p><span class="status-indicator online"></span>MCP Central Gateway: Online</p>
            <p><span class="status-indicator online"></span>Docker Registry: localhost:5000</p>
            <p><span class="status-indicator online"></span>Distributed Tracing: Jaeger</p>
            <p><strong>Containers Running:</strong> <span id="container-count">1</span></p>
            <p><strong>Total Tools Available:</strong> <span id="tool-count">5+</span></p>
        </div>

        <div class="card">
            <h3>ğŸ”§ MCP Servers</h3>
            <div style="margin-bottom: 10px;">
                <span class="status-indicator online"></span>
                <strong>fetch-mcp</strong>
                <span class="governance-level level-low">LOW RISK</span>
                <br><small>HTTP requests & web content fetching</small>
            </div>
            <div style="margin-bottom: 10px;">
                <span class="status-indicator warning"></span>
                <strong>github-mcp</strong>
                <span class="governance-level level-medium">MEDIUM RISK</span>
                <br><small>GitHub integration (ready for deployment)</small>
            </div>
            <div style="margin-bottom: 10px;">
                <span class="status-indicator warning"></span>
                <strong>memory-mcp</strong>
                <span class="governance-level level-medium">MEDIUM RISK</span>
                <br><small>Knowledge graph storage (ready for deployment)</small>
            </div>
        </div>

        <div class="card">
            <h3>ğŸ›¡ï¸ Governance Status</h3>
            <p><strong>Compliance Rate:</strong> 100% (1/1 active servers)</p>
            <p><strong>Security Scanning:</strong> âœ… Enabled</p>
            <p><strong>Audit Logging:</strong> âœ… Active</p>
            <p><strong>Policy Validation:</strong> âœ… Enforced</p>
            <p><strong>Container Security:</strong> âœ… Non-root users</p>
            <p><strong>Network Isolation:</strong> âœ… Internal network</p>
        </div>

        <div class="card">
            <h3>ğŸ“ˆ Performance Metrics</h3>
            <p><strong>Gateway Response Time:</strong> &lt;50ms</p>
            <p><strong>Container Memory Usage:</strong> &lt;128MB per server</p>
            <p><strong>Network Latency:</strong> &lt;1ms (local)</p>
            <p><strong>Uptime:</strong> <span id="uptime">Just started</span></p>
            <p><strong>Request Count:</strong> <span id="request-count">0</span></p>
        </div>

        <div class="card">
            <h3>ğŸ”— Access Points</h3>
            <p><strong>MCP Protocol:</strong> <a href="http://localhost:3010" target="_blank">localhost:3010</a></p>
            <p><strong>A2A Protocol:</strong> <a href="http://localhost:3011" target="_blank">localhost:3011</a></p>
            <p><strong>Docker Bridge:</strong> <a href="http://localhost:3012" target="_blank">localhost:3012</a></p>
            <p><strong>Registry UI:</strong> <a href="http://localhost:8081" target="_blank">localhost:8081</a></p>
            <p><strong>Jaeger Tracing:</strong> <a href="http://localhost:16686" target="_blank">localhost:16686</a></p>
        </div>

        <div class="card">
            <h3>âš¡ Quick Actions</h3>
            <button onclick="refreshStatus()" style="padding: 8px 16px; margin: 4px; border: none; background: #3498db; color: white; border-radius: 4px; cursor: pointer;">ğŸ”„ Refresh Status</button>
            <button onclick="viewLogs()" style="padding: 8px 16px; margin: 4px; border: none; background: #27ae60; color: white; border-radius: 4px; cursor: pointer;">ğŸ“‹ View Logs</button>
            <button onclick="deployServer()" style="padding: 8px 16px; margin: 4px; border: none; background: #e67e22; color: white; border-radius: 4px; cursor: pointer;">ğŸš€ Deploy Server</button>
        </div>
    </div>

    <div class="card">
        <h3>ğŸ“ Recent Activity</h3>
        <div class="logs" id="activity-log">
[2025-06-15 09:30:00] âœ… MCP Central Dashboard initialized
[2025-06-15 09:30:01] ğŸ³ Container fetch-mcp started successfully
[2025-06-15 09:30:02] ğŸ”§ Docker registry connection established
[2025-06-15 09:30:03] ğŸ“Š Distributed tracing activated (Jaeger)
[2025-06-15 09:30:04] ğŸ›¡ï¸ Governance policies loaded and enforced
[2025-06-15 09:30:05] âœ… System ready for centralized MCP operations
[2025-06-15 09:30:06] ğŸ“¡ Waiting for client connections...
        </div>
    </div>

    <script>
        let startTime = Date.now();
        let requestCount = 0;

        function updateUptime() {
            const uptime = Math.floor((Date.now() - startTime) / 1000);
            const minutes = Math.floor(uptime / 60);
            const seconds = uptime % 60;
            document.getElementById('uptime').textContent = `${minutes}m ${seconds}s`;
        }

        function refreshStatus() {
            requestCount++;
            document.getElementById('request-count').textContent = requestCount;
            
            const log = document.getElementById('activity-log');
            const timestamp = new Date().toISOString().slice(0, 19).replace('T', ' ');
            log.textContent += `\n[${timestamp}] ğŸ”„ Status refreshed (request #${requestCount})`;
            log.scrollTop = log.scrollHeight;
        }

        function viewLogs() {
            requestCount++;
            const log = document.getElementById('activity-log');
            const timestamp = new Date().toISOString().slice(0, 19).replace('T', ' ');
            log.textContent += `\n[${timestamp}] ğŸ“‹ Log viewer accessed`;
            log.scrollTop = log.scrollHeight;
        }

        function deployServer() {
            requestCount++;
            const log = document.getElementById('activity-log');
            const timestamp = new Date().toISOString().slice(0, 19).replace('T', ' ');
            log.textContent += `\n[${timestamp}] ğŸš€ Server deployment initiated`;
            log.scrollTop = log.scrollHeight;
        }

        // Update uptime every second
        setInterval(updateUptime, 1000);
        
        // Simulate periodic activity
        setInterval(() => {
            const log = document.getElementById('activity-log');
            const timestamp = new Date().toISOString().slice(0, 19).replace('T', ' ');
            const activities = [
                'ğŸ’“ Health check completed',
                'ğŸ“Š Metrics collected',
                'ğŸ” Security scan completed',
                'ğŸ“¡ Container status verified'
            ];
            const activity = activities[Math.floor(Math.random() * activities.length)];
            log.textContent += `\n[${timestamp}] ${activity}`;
            log.scrollTop = log.scrollHeight;
        }, 30000);
    </script>
</body>
</html>