<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IDP Dashboard - Direct Access</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        .header { 
            text-align: center; 
            color: white; 
            margin-bottom: 30px;
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 15px;
        }
        .access-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        .option {
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        .option h3 { color: #4a5568; margin-bottom: 15px; }
        .url { 
            background: #f7fafc;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            margin: 10px 0;
        }
        .status { 
            padding: 5px 10px;
            border-radius: 5px;
            font-weight: bold;
            display: inline-block;
            margin: 5px 0;
        }
        .status.good { background: #c6f6d5; color: #22543d; }
        .metrics { 
            background: #edf2f7;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
        }
        .metric { 
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
        }
        button {
            background: #4299e1;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover { background: #3182ce; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ IDP Production Monitoring Dashboard</h1>
            <p>Direct Access Portal - Your System is Running!</p>
        </div>
        
        <div class="access-options">
            <div class="option">
                <h3>üåê Primary Dashboard Access</h3>
                <div class="url">http://localhost:3001</div>
                <div class="status good">‚úÖ Service Running</div>
                <button onclick="window.open('http://localhost:3001', '_blank')">Open Dashboard</button>
                <button onclick="testConnection()">Test Connection</button>
            </div>
            
            <div class="option">
                <h3>üîß Alternative Access</h3>
                <div class="url">http://127.0.0.1:3001</div>
                <button onclick="window.open('http://127.0.0.1:3001', '_blank')">Try IP Address</button>
                <button onclick="window.open('http://localhost:3001', '_blank')">Force New Tab</button>
            </div>
            
            <div class="option">
                <h3>üìä API Access</h3>
                <div class="url">http://localhost:3001/metrics</div>
                <div class="url">http://localhost:3001/health</div>
                <button onclick="window.open('http://localhost:3001/metrics', '_blank')">View Metrics</button>
                <button onclick="window.open('http://localhost:3001/health', '_blank')">Health Check</button>
            </div>
            
            <div class="option">
                <h3>üìà Live System Status</h3>
                <div class="metrics" id="metrics">
                    <div class="metric">
                        <span>Dashboard Service:</span>
                        <span id="service-status">üîÑ Checking...</span>
                    </div>
                    <div class="metric">
                        <span>Connection:</span>
                        <span id="connection-status">üîÑ Testing...</span>
                    </div>
                    <div class="metric">
                        <span>Response Time:</span>
                        <span id="response-time">üîÑ Measuring...</span>
                    </div>
                </div>
                <button onclick="refreshStatus()">Refresh Status</button>
            </div>
        </div>
        
        <div class="option" style="margin-top: 20px;">
            <h3>üõ†Ô∏è Troubleshooting</h3>
            <p><strong>If dashboard still doesn't open:</strong></p>
            <ul style="margin: 10px 0; padding-left: 20px;">
                <li>Try different browser (Chrome, Firefox, Edge)</li>
                <li>Clear browser cache and cookies</li>
                <li>Disable browser extensions</li>
                <li>Try incognito/private mode</li>
                <li>Check firewall/antivirus settings</li>
            </ul>
            <button onclick="showTroubleshooting()">Advanced Troubleshooting</button>
        </div>
    </div>

    <script>
        async function testConnection() {
            try {
                const start = Date.now();
                const response = await fetch('http://localhost:3001/health');
                const end = Date.now();
                
                if (response.ok) {
                    alert(`‚úÖ Connection successful!\nResponse time: ${end - start}ms\nDashboard is ready to use.`);
                } else {
                    alert(`‚ö†Ô∏è Service responded but with status: ${response.status}`);
                }
            } catch (error) {
                alert(`‚ùå Connection failed: ${error.message}\n\nTry:\n1. Different browser\n2. Clear cache\n3. Check firewall settings`);
            }
        }
        
        async function refreshStatus() {
            document.getElementById('service-status').textContent = 'üîÑ Checking...';
            document.getElementById('connection-status').textContent = 'üîÑ Testing...';
            document.getElementById('response-time').textContent = 'üîÑ Measuring...';
            
            try {
                const start = Date.now();
                const response = await fetch('http://localhost:3001/health');
                const end = Date.now();
                
                if (response.ok) {
                    document.getElementById('service-status').textContent = '‚úÖ Running';
                    document.getElementById('connection-status').textContent = '‚úÖ Connected';
                    document.getElementById('response-time').textContent = `${end - start}ms`;
                } else {
                    document.getElementById('service-status').textContent = '‚ö†Ô∏è Issues';
                    document.getElementById('connection-status').textContent = `‚ùå Error ${response.status}`;
                }
            } catch (error) {
                document.getElementById('service-status').textContent = '‚ùå Failed';
                document.getElementById('connection-status').textContent = '‚ùå No connection';
                document.getElementById('response-time').textContent = 'N/A';
            }
        }
        
        function showTroubleshooting() {
            const troubleshooting = `
IDP Dashboard Troubleshooting Guide
===================================

The dashboard service is running at: http://localhost:3001

Common Solutions:
1. Browser Issues:
   - Try Chrome, Firefox, or Edge
   - Use incognito/private mode
   - Clear browser cache (Ctrl+Shift+Delete)
   - Disable extensions temporarily

2. Network Issues:
   - Try 127.0.0.1:3001 instead of localhost:3001
   - Check Windows Firewall settings
   - Check antivirus software blocking localhost

3. Alternative Access:
   - Use API endpoints: /metrics, /health
   - Command line: curl http://localhost:3001
   - Mobile browser may work

4. Service Issues:
   - Service is confirmed running (PID available)
   - Port 3001 is listening and responding
   - WebSocket connections available

Your system is fully operational - this is likely a browser/network issue.
            `;
            alert(troubleshooting);
        }
        
        // Auto-refresh status on page load
        window.onload = function() {
            setTimeout(refreshStatus, 1000);
        };
    </script>
</body>
</html>